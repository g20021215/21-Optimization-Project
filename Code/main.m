%The  relvant matrix coefficients:
A = [1,1,1,1,1,1,1,zeros(1,80-7);
    zeros(1,0),    1,  zeros(1,80-1);
    zeros(1,1),    1,  zeros(1,80-2);
    zeros(1,2),    1,  zeros(1,80-3);
    zeros(1,3),    1,  zeros(1,80-4);
    zeros(1,4),    1,  zeros(1,80-5);
    zeros(1,5),    1,  zeros(1,80-6);
    zeros(1,6),    1,  zeros(1,80-7);
    zeros(1,0),    -1, zeros(1,80-1);
    zeros(1,1),    -1, zeros(1,80-2);
    zeros(1,2),    -1, zeros(1,80-3);
    zeros(1,3),    -1, zeros(1,80-4);
    zeros(1,4),    -1, zeros(1,80-5);
    zeros(1,5),    -1, zeros(1,80-6);
    zeros(1,6),    -1, zeros(1,80-7);
    -eye(80);
    ];
 
b = [104+301+750+606+194+205+201+680+480+300+220+210+420+500;
    800;
    800;
    1000;
    2000;
    2000;
    2000;
    3000;
    -500;
    -500;
    -500;
    -500;
    -500;
    -500;
    -500;
    zeros(80,1);
    ];
Aeq = [zeros(1,7),1,1,-1,zeros(1,80-7-3);
zeros(1,9),1,1,-1        ,zeros(1,80-9-3);
zeros(1,11),        1,1,zeros(1,21-11-2),-1,zeros(1,80-21-1);
zeros(1,13),1,1,-1        ,zeros(1,80-13-3);
zeros(1,15),-1,-1,1,zeros(1,80-15-3);
zeros(1,0),-1,zeros(1,17-0-1),1,2,0,-1,zeros(1,80-17-4);
zeros(1,1),-1,zeros(1,19-1-1),1,-1,1,1,1,-1,zeros(1,80-19-6);
zeros(1,2),-1,zeros(1,23-2-1),-1,1,1,1,-1,zeros(1,80-23-5);
zeros(1,26),-1,1,1,1,-1,zeros(1,80-26-5);
zeros(1,3),-1,zeros(1,29-3-1),-1,1,0,-1,1,0,0,1,zeros(1,72-29-8),-1,zeros(1,80-72-1);
zeros(1,4),-1,zeros(1,31-4-1),1,-1,zeros(1,80-31-2);
zeros(1,34),1,1,-1,-1,-1,zeros(1,80-34-5);
zeros(1,37),-1,1,1,1,-1,zeros(1,80-37-5);
zeros(1,40),-1,1,1,1,-1,1,-1,zeros(1,80-40-7);
zeros(1,5),-1,zeros(1,45-5-1),1,-1,1,zeros(1,80-45-3);
zeros(1,43),-1,0,1,zeros(1,48-43-3),1,1,-1,zeros(1,80-48-3);
zeros(1,6),-1,zeros(1,51-6-1),-1,1,1,zeros(1,80-51-3);
    zeros(1,52), 1, 1, zeros(1,80-54);
    zeros(1,54), 1, 1, zeros(1,80-56);
    zeros(1,56), 1, 1, zeros(1,80-58);
    zeros(1,58), 1, 1, zeros(1,80-60);
    zeros(1,60), 1, 1, zeros(1,80-62);
    zeros(1,62), 1, 1, zeros(1,80-64);
    zeros(1,64), 1, 1, zeros(1,80-66);
    zeros(1,66), 1, 1, zeros(1,80-68);
    zeros(1,68), 1, 1, zeros(1,80-70);
    zeros(1,70), 1, 1, zeros(1,80-72);
    zeros(1,72), 1, 1, zeros(1,80-74);
    zeros(1,74), 1, 1, zeros(1,80-76);
    zeros(1,76), 1, 1, zeros(1,80-78);
    zeros(1,78), 1, 1, zeros(1,0);
    zeros(1,7), -1, zeros(1,44), 1, zeros(1,80-53);
    zeros(1,8), -1, zeros(1,44), 1, 1, zeros(1,80-55);
    zeros(1,10), -1, zeros(1,44), 1, 1, zeros(1,80-57);
    zeros(1,12), -1, zeros(1,44), 1, 1, zeros(1,80-59);
    zeros(1,13), -1, zeros(1,45), 1, 1, zeros(1,80-61);
    zeros(1,14), -1, zeros(1,46), 1, 1, zeros(1,80-63);
    zeros(1,16), -1, zeros(1,1), -1, zeros(1,44), 1,1, zeros(1,80-65);
    zeros(1,23), -1, zeros(1,41), 1, 1, zeros(1,80-67);
    zeros(1,25), -1 , zeros(1,41), 1, 1, zeros(1,80-69);
    zeros(1,28), -1, zeros(1,39), 1, 1, zeros(1,10);
    zeros(1,31), -1, zeros(1,39),1, zeros(1,1),1, zeros(1,80-74);
    zeros(1,34), -1, zeros(1,37), 1, zeros(1,1), 1, zeros(1,5);
    zeros(1,39), -1, zeros(1,35), 1, 1, zeros(1,3);
    zeros(1,42), -1, zeros(1,3), -1, zeros(1,30),1, zeros(1,1), 1;
    zeros(1,51), -1, zeros(1,26), 1, zeros(1,1);
    ];
beq = [
    0;
0;
0;
0;
0;
0;
0;
0;
0;
0;
0;
0;
0;
0;
0;
0;
0;
    104;
    301;
    750;
    606;
    194;
    205;
    201;
    680;
    480;
    300;
    220;
    210;
    420;
    500;
    0;
    0;
    0;
    0;
    0;
    0;
    0;
    0;
    0;
    0;
    0;
    0;
    0;
    0;
    0;
    ];
%[500,500,500,500,500,500,500,zeros(1,73)]
Y = x;
%8000*ones(80,1)
[x,fval,exitflag,output] = fmincon('obj',8020*ones(80,1),A,b,Aeq,beq,0.0000001,Inf);
x;
fval;
exitflag;
output;


